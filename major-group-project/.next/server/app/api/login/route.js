"use strict";(()=>{var e={};e.id=740,e.ids=[740],e.modules={8013:e=>{e.exports=require("mongodb")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5528:e=>{e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3945:(e,o,r)=>{r.r(o),r.d(o,{headerHooks:()=>d,originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>m});var t={};r.r(t),r.d(t,{GET:()=>u});var n=r(884),s=r(6132),a=r(1040),i=r(4596);async function u(e,o){try{let{searchParams:o}=new URL(e.url),t=o.get("username"),n=o.get("pass"),{MongoClient:s}=r(8013),a=new s("mongodb://root:example@localhost:27017/");await a.connect(),console.log("Connected successfully to the server");let u=a.db("forums"),c=u.collection("register"),l=await c.find({username:t,pass:n}).toArray(),p=!1;return l.length>0?(p=!0,console.log("Logged in successfully"),console.log("Saving username and auth status"),(0,i.cookies)().set("auth",!0),(0,i.cookies)().set("username",t)):(p=!1,console.log("Login failed: wrong username or password")),Response.json({data:""+p})}catch(e){console.error("Error:",e),o.status(500).json({error:"Internal Server Error"})}}let c=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/login/route",pathname:"/api/login",filename:"route",bundlePath:"app/api/login/route"},resolvedPagePath:"C:\\Users\\beka\\OneDrive\\TU DUBLIN\\Y3\\Sem1\\web app\\major-group-project\\Major-Group-Project-Student-Network-Website\\major-group-project\\src\\app\\api\\login\\route.js",nextConfigOutput:"",userland:t}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:g,headerHooks:d,staticGenerationBailout:m}=c,x="/api/login/route";function h(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:p})}}};var o=require("../../../webpack-runtime.js");o.C(e);var r=e=>o(o.s=e),t=o.X(0,[271,506],()=>r(3945));module.exports=t})();